# üîí **–£—Å–∏–ª–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç DDoS**

## üö® **–ù–æ–≤—ã–µ –∑–∞—â–∏—Ç–Ω—ã–µ –º–µ—Ä—ã:**

### **Rate Limiting (–∂–µ—Å—Ç–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è):**

- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: `1 –∑–∞–ø—Ä–æ—Å/—Å–µ–∫` (–∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞)
- **API –æ–ø–µ—Ä–∞—Ü–∏–∏**: `2 –∑–∞–ø—Ä–æ—Å–∞/—Å–µ–∫` 
- **–¢—è–∂–µ–ª—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∞–π—Ç–æ–≤): `30 –∑–∞–ø—Ä–æ—Å–æ–≤/—á–∞—Å`
- **–û–±—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã**: `3 –∑–∞–ø—Ä–æ—Å–∞/—Å–µ–∫`
- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã**: `20 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫`

### **Connection Limiting:**
- **–ú–∞–∫—Å–∏–º—É–º 10 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π** —Å –æ–¥–Ω–æ–≥–æ IP –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

### **Request Filtering:**
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö HTTP –º–µ—Ç–æ–¥–æ–≤
- –ó–∞—â–∏—Ç–∞ –æ—Ç Path Traversal –∞—Ç–∞–∫ (`../`, `..%2f`)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è SQL injection –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ (10MB max)

---

## ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SERVER_NAME:**

```bash
# –í .env —Ñ–∞–π–ª–µ –¥–æ–±–∞–≤—å—Ç–µ:
SERVER_NAME=your-server-ip-or-domain.com

# –ü—Ä–∏–º–µ—Ä—ã:
SERVER_NAME=192.168.1.100        # IP –∞–¥—Ä–µ—Å
SERVER_NAME=myapp.example.com    # –î–æ–º–µ–Ω
SERVER_NAME=_                    # –õ—é–±–æ–π –¥–æ–º–µ–Ω (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```

---

## üõ°Ô∏è **–ó–∞—â–∏—Ç–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:**

```
X-Frame-Options: SAMEORIGIN           # –ó–∞—â–∏—Ç–∞ –æ—Ç clickjacking
X-Content-Type-Options: nosniff       # –ó–∞—â–∏—Ç–∞ –æ—Ç MIME sniffing
X-XSS-Protection: 1; mode=block       # XSS –∑–∞—â–∏—Ç–∞
Content-Security-Policy: [—Å—Ç—Ä–æ–≥–∞—è]    # CSP –∑–∞—â–∏—Ç–∞
```

---

## üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞—Ç–∞–∫:**

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (HTTP 429)
docker-compose logs nginx | grep "429"

# –¢–æ–ø IP –∞–¥—Ä–µ—Å–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–ø—Ä–æ—Å–æ–≤
docker-compose logs nginx | grep -oE '\b([0-9]{1,3}\.){3}[0-9]{1,3}\b' | sort | uniq -c | sort -nr | head -10

# –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ SQL injection –ø–æ–ø—ã—Ç–∫–∏
docker-compose logs nginx | grep "403"

# Real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
docker-compose logs -f nginx | grep -E "(429|403|444)"
```

---

## üö´ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞:**

### **HTTP 429** - Rate limit exceeded:
```
–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º –∑–∞–ø—Ä–æ—Å–æ–º.
```

### **HTTP 403** - Blocked attack:
```
–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (SQL injection, path traversal)
```

### **HTTP 405** - Method not allowed:
```
–†–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–æ–ª—å–∫–æ: GET, HEAD, POST, PUT, DELETE, OPTIONS
```

---

## üîß **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**

### **Timeouts (–∑–∞—â–∏—Ç–∞ –æ—Ç –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∞—Ç–∞–∫):**
- **Connection**: 5 —Å–µ–∫—É–Ω–¥
- **Send**: 10 —Å–µ–∫—É–Ω–¥  
- **Read**: 30 —Å–µ–∫—É–Ω–¥

### **Buffer limits:**
- **Body size**: 10MB –º–∞–∫—Å–∏–º—É–º
- **Header buffers**: 4 –±—É—Ñ–µ—Ä–∞ –ø–æ 8KB

---

## üìà **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞:**

### **1. Firewall –ø—Ä–∞–≤–∏–ª–∞:**
```bash
# –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ HTTP/HTTPS
sudo ufw allow 80
sudo ufw allow 443

# –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ
sudo ufw --force enable
```

### **2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å fail2ban –¥–ª—è –∞–≤—Ç–æ–±–∞–Ω–∞
sudo apt install fail2ban

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏ nginx
tail -f /var/log/nginx/access.log | grep -E "(429|403)"
```

### **3. SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:**
```bash
# Let's Encrypt (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
sudo apt install certbot
sudo certbot --nginx -d yourdomain.com
```

---

## üéØ **–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –ª–∏–º–∏—Ç–æ–≤:**

–ï—Å–ª–∏ –Ω—É–∂–Ω—ã –¥—Ä—É–≥–∏–µ –ª–∏–º–∏—Ç—ã, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `nginx/nginx.conf`:

```nginx
# –ë–æ–ª–µ–µ –º—è–≥–∫–∏–µ –ª–∏–º–∏—Ç—ã –¥–ª—è API
limit_req_zone $binary_remote_addr zone=api:10m rate=5r/s;

# –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –¥–ª—è auth
limit_req_zone $binary_remote_addr zone=auth:10m rate=30r/m;
```

---

## ‚ö° **–≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞:**

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ nginx (—Å–±—Ä–æ—Å —Å—á–µ—Ç—á–∏–∫–æ–≤)
docker-compose restart nginx

# –í—Ä–µ–º–µ–Ω–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ rate limiting
# –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ limit_req —Å—Ç—Ä–æ–∫–∏ –≤ nginx.conf
```

---

## üéâ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç DDoS –∞—Ç–∞–∫**  
‚úÖ **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞**  
‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**  
‚úÖ **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤**  
‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞—Ç–∞–∫**  

**–í–∞—à —Å–µ—Ä–≤–µ—Ä —Ç–µ–ø–µ—Ä—å –∑–∞—â–∏—â–µ–Ω –æ—Ç 99% –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∞—Ç–∞–∫!** üõ°Ô∏è 